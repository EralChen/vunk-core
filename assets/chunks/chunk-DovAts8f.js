import{d as f,r as u,p as I,ah as V,X as v,o as h,c as _,Y as b,v as $,ai as k,al as y,a as m,aa as O,s as g,w as n,k as l,b as a,am as G,a2 as N,j as i,t as w}from"./chunk-DSDXeCVq.js";import"./chunk-B3cmQ3xr.js";const S={anchorId:{type:String,required:!0},anchorOffset:{type:String,default:"0"}},A={},B={modelValue:{type:Array,default:()=>[]}},x={"update:modelValue":e=>Array.isArray(e)},E=f({name:"VkIntersectionObserverGroup",props:B,emits:x,setup(e,t){const r=u(),s=u(!1);return I(()=>{V("vkIntersectionObserverGroup",{el:r,ctx:t,props:e}),s.value=!0}),{elNode:r,ready:s}}}),C={ref:"elNode"};function j(e,t,r,s,o,p){return h(),_("div",C,[e.ready?b(e.$slots,"default",{key:0}):$("",!0)],512)}const d=v(E,[["render",j]]),z=()=>{const e=k("vkIntersectionObserverGroup");if(!e)throw new Error("useIntersectionObserverGroup() is called without provider.");return e};d.install=e=>{e.component(d.name||"VkIntersectionObserverGroup",d)};const q=f({name:"VkIntersectionObserverItem",props:S,emits:A,setup(e){const t=z(),r=u(null);return y(r,([{isIntersecting:s}])=>{const o=new Set(t.props.modelValue);s?o.add(e.anchorId):o.delete(e.anchorId),t.ctx.emit("update:modelValue",Array.from(o))},{root:t.el}),{targetNode:r}}}),D={class:"intersection-observer-item"},M=["id"],T={ref:"targetNode",class:"intersection-observer-item-target"};function U(e,t,r,s,o,p){return h(),_("div",D,[m("span",{id:e.anchorId,class:"intersection-observer-item-anchor",style:O({"--vk-intersection-observer-anchor-offset":e.anchorOffset})},null,12,M),m("span",T,null,512),b(e.$slots,"default")])}const c=v(q,[["render",U]]);c.install=e=>{e.component(c.name||"VkIntersectionObserverItem",c)};const X={"pos-sticky":"","top-0":"","z-1":""},H=f({__name:"basic",setup(e){const t=u([]),r=()=>{document.getElementById("anchor-2")?.scrollIntoView({behavior:"smooth"})};return(s,o)=>(h(),g(a(d),{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=p=>t.value=p),"h-450px":""},{default:n(()=>[l(a(G),null,{default:n(()=>[m("p",X,[l(a(N),{onClick:r},{default:n(()=>[i(" goto anchor-2 ")]),_:1}),i(" current: "+w(t.value),1)]),l(a(c),{"anchor-id":"anchor-1","bg-amber":"","h-600px":""},{default:n(()=>[i(" 11111 ")]),_:1}),l(a(c),{"anchor-id":"anchor-2","bg-blue":""},{default:n(()=>[i(" 22222222 ")]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});export{H as default};
