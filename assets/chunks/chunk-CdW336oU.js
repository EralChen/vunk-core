const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-BLzkfs61.js","assets/chunks/chunk-eSk1YheG.js","assets/chunks/chunk-BN5h9Q8q.js","assets/chunks/chunk-C3KEJ4OI.js","assets/chunks/chunk-B3cmQ3xr.js","assets/static/index.1qTerl_O.css","assets/static/custom-check-tree-list.Ddwg5YTv.css"])))=>i.map(i=>d[i]);
import{_ as A}from"./chunk-B3cmQ3xr.js";import{d as E}from"./chunk-BN5h9Q8q.js";import{d as w,q as y,r as p,U as I,m as $,P as B,n as f,o as v,c as L,a as U,k as g,j as k,t as _,s as N,w as D,x as O,y as P}from"./chunk-C3KEJ4OI.js";const S=$(()=>A(()=>import("./chunk-BLzkfs61.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),b=w({components:{ListVue:S},props:["isActive","toggle","node","getChildren","model","level","parent"],emits:{"setData:model":e=>e,nodeLoad:e=>e},setup(e,{emit:t}){const c=y(()=>e.node.id),r=p(!1),u=p(!1),C=async n=>{if(!u.value){const o=await e.getChildren?.(n);o?.length&&(n.children=o,e.isActive&&t("setData:model",{k:[n.id,"checkedNodes"],v:o})),u.value=!0,t("nodeLoad",n)}r.value=!0},m=()=>{e.toggle();const n=!e.isActive;o();function o(d=e.node){const l=d.children?[...d.children]:[];let a=n?l:[];t("setData:model",{k:[d.id,"checkedNodes"],v:a}),l?.forEach(s=>{o(s)})}};i();function i(){t("setData:model",{k:c.value,v:{node:e.node,checkedNodes:[],parent:e.parent},intoUndefined:E})}return I(()=>e.isActive,()=>{const n=e.parent?.id||"#",o=e.model[n].node?.children,d=e.model[n].checkedNodes;if(!o||!d)return;const l=e.model[n].parent?.id||"#",a=e.model[l].checkedNodes;if(!a)return;const s=a.findIndex(h=>h.id===n);if(o.length===d.length)s<0&&t("setData:model",{k:[l,"checkedNodes",a.length],v:e.parent,insert:!0});else if(s>=0){const h=a.filter(V=>V.id!==n);t("setData:model",{k:[l,"checkedNodes"],v:h})}}),{open:r,nodeId:c,handleOpen:C,handleCheck:m}}});function z(e,t,c,r,u,C){const m=f("ElCheckbox"),i=f("ElButton"),n=f("ListVue");return v(),L("div",null,[U("div",null,[g(m,{"model-value":e.isActive,"onUpdate:modelValue":e.handleCheck},null,8,["model-value","onUpdate:modelValue"]),k(" "+_(e.node.id)+" ",1),e.open?(v(),N(i,{key:1,size:"small",onClick:t[1]||(t[1]=o=>e.open=!1)},{default:D(()=>[k(" 收起 ")]),_:1})):(v(),N(i,{key:0,size:"small",onClick:t[0]||(t[0]=o=>e.handleOpen(e.node))},{default:D(()=>[k(" 展开 ")]),_:1}))]),O(g(n,{level:e.level+1,parent:e.node,data:e.node.children,model:e.model,"get-children":e.getChildren,"onSetData:model":t[2]||(t[2]=o=>e.$emit("setData:model",o))},null,8,["level","parent","data","model","get-children"]),[[P,e.open]])])}const F=B(b,[["render",z]]);export{F as default};
